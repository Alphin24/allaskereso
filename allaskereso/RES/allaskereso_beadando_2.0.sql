
DROP TABLE TELEPULESEK CASCADE CONSTRAINTS;
DROP TABLE CEG CASCADE CONSTRAINTS;
DROP TABLE FELHASZNALOK CASCADE CONSTRAINTS;
DROP TABLE ERTEKELESEK CASCADE CONSTRAINTS;
DROP TABLE ALLASHIRDETES CASCADE CONSTRAINTS;
DROP TABLE JELENTKEZES CASCADE CONSTRAINTS;

ALTER SESSION SET NLS_DATE_FORMAT = 'YYYY-MM-DD';


CREATE TABLE TELEPULESEK (
  telepules VARCHAR2(50) PRIMARY KEY,
  megye VARCHAR2(50) NOT NULL
);

CREATE TABLE CEG (
  c_email VARCHAR2(50) NOT NULL PRIMARY KEY,
  jelszo VARCHAR2(50) NOT NULL,
  nev VARCHAR2(50) NOT NULL,
  telefonszam VARCHAR2(20) NOT NULL,
  telepules VARCHAR2(50) NOT NULL,
  utca VARCHAR2(50) NOT NULL,
  hazszam NUMBER NOT NULL,
  FOREIGN KEY (telepules) REFERENCES TELEPULESEK(telepules)
);

CREATE TABLE FELHASZNALOK (
    email VARCHAR2(30) NOT NULL PRIMARY KEY,
    jelszo VARCHAR2(50) NOT NULL,
    nev VARCHAR2(30) NOT NULL,
    telefonszam CHAR(20),
    szerepkor VARCHAR2(15) NOT NULL,
    oneletrajz VARCHAR2(1500)
);

CREATE TABLE ERTEKELESEK (
    
    email VARCHAR2(30) NOT NULL,
    c_email VARCHAR2(50) NOT NULL,
    ertekeles NUMBER NOT NULL,
    tartalom VARCHAR2(100) NOT NULL,
    FOREIGN KEY (c_email) REFERENCES CEG(c_email),
    FOREIGN KEY (email) REFERENCES FELHASZNALOK(email),
    PRIMARY KEY (email, c_email)
);

CREATE TABLE ALLASHIRDETES
(
	a_id NUMBER GENERATED BY DEFAULT AS IDENTITY NOT NULL,
	szalagcim VARCHAR2(100) NOT NULL,
	leiras VARCHAR2(1000),
	feltetel VARCHAR2(100),
	fizetes NUMBER(10) NOT NULL,
	m_helye VARCHAR2(25) NOT NULL,
	c_email VARCHAR2(50) NOT NULL,
	
	CONSTRAINT Allashirdetes_pk
		PRIMARY KEY (a_id),
	CONSTRAINT Allashirdetes_fk
		FOREIGN KEY (c_email)
		REFERENCES Ceg(c_email)
);


CREATE TABLE JELENTKEZES
(
	email VARCHAR2(30) NOT NULL,
	a_id NUMBER NOT NULL,
	mikor DATE NOT NULL,
	
    PRIMARY KEY (email, a_id),
	CONSTRAINT Jelentkezes_fk
		FOREIGN KEY (a_id)
		REFERENCES Allashirdetes(a_id),
		FOREIGN KEY (email)
		REFERENCES Felhasznalok(email)
	
);





INSERT INTO TELEPULESEK (telepules, megye) VALUES ('Szeged', 'Csongrád megye');
INSERT INTO TELEPULESEK (telepules, megye) VALUES ('Szekszárd', 'Tolna megye');
INSERT INTO TELEPULESEK (telepules, megye) VALUES ('Szellõ', 'Baranya megye');
INSERT INTO TELEPULESEK (telepules, megye) VALUES ('Szügy', 'Nógrád megye');
INSERT INTO TELEPULESEK (telepules, megye) VALUES ('Kiskunmajsa', 'Bács-Kiskun megye');
INSERT INTO TELEPULESEK (telepules, megye) VALUES ('Kisköre', 'Heves megye');
INSERT INTO TELEPULESEK (telepules, megye) VALUES ('Kaba', 'Hajdú-Bihar megye');
INSERT INTO TELEPULESEK (telepules, megye) VALUES ('Jászberény', 'Szolnok megye');
INSERT INTO TELEPULESEK (telepules, megye) VALUES ('Ibrány', 'Szabolcs-Sz.-B. megye');
INSERT INTO TELEPULESEK (telepules, megye) VALUES ('Hódmezõvásárhely', 'Csongrád megye');
INSERT INTO TELEPULESEK (telepules, megye) VALUES ('Heves', 'Heves megye');
INSERT INTO TELEPULESEK (telepules, megye) VALUES ('Gyömrõ', 'Pest megye');
INSERT INTO TELEPULESEK (telepules, megye) VALUES ('Gárdony', 'Fejér megye');
INSERT INTO TELEPULESEK (telepules, megye) VALUES ('Fonyód', 'Somogy megye');
INSERT INTO TELEPULESEK (telepules, megye) VALUES ('Esztergom', 'Komárom-Esztergom megye');
INSERT INTO TELEPULESEK (telepules, megye) VALUES ('Dunavarsány', 'Pest megye');
INSERT INTO TELEPULESEK (telepules, megye) VALUES ('Debrecen', 'Hajdú-Bihar megye');
INSERT INTO TELEPULESEK (telepules, megye) VALUES ('Csongrád', 'Csongrád megye');
INSERT INTO TELEPULESEK (telepules, megye) VALUES ('Cegléd', 'Pest megye');
INSERT INTO TELEPULESEK (telepules, megye) VALUES ('Bucsu', 'Vas megye');
INSERT INTO TELEPULESEK (telepules, megye) VALUES ('Budapest', 'Pest megye');

INSERT INTO CEG (c_email, jelszo, nev, telefonszam, telepules, utca, hazszam) VALUES ('mav@gmail.com', '64663f4646781c9c0110838b905daa23', 'MAV', '0624-715-75-37', 'Budapest', 'Köki utca' ,10 );
INSERT INTO CEG (c_email, jelszo, nev, telefonszam, telepules, utca, hazszam) VALUES ('SzKT@gmail.com', '64663f4646781c9c0110838b905daa23', 'SzKT', '620-259-90-71', 'Szeged', 'Kossuth Lajos utca' ,43 );
INSERT INTO CEG (c_email, jelszo, nev, telefonszam, telepules, utca, hazszam) VALUES ('infineon@gmail.com', '64663f4646781c9c0110838b905daa23', 'INFINEON', '0620-716-05-37', 'Szekszárd', 'Széchenyi utca' ,22 );
INSERT INTO CEG (c_email, jelszo, nev, telefonszam, telepules, utca, hazszam) VALUES ('epam@gmail.com', '64663f4646781c9c0110838b905daa23', 'EPAM', '0620-252-20-46', 'Szeged', 'Arany János utca' ,35 );
INSERT INTO CEG (c_email, jelszo, nev, telefonszam, telepules, utca, hazszam) VALUES ('ava@gmail.com', '64663f4646781c9c0110838b905daa23', 'AVA', '0620-779-54-26', 'Gyömrõ', 'Petõfi Sándor utca' ,66 );
INSERT INTO CEG (c_email, jelszo, nev, telefonszam, telepules, utca, hazszam) VALUES ('paks@gmail.com', '64663f4646781c9c0110838b905daa23', 'MVM-PAKS', '0620-866-84-82', 'Szekszárd', 'Rákóczi út' ,77 );
INSERT INTO CEG (c_email, jelszo, nev, telefonszam, telepules, utca, hazszam) VALUES ('EThunder@gmail.com', '64663f4646781c9c0110838b905daa23', 'EThunder', '0620-992-53-00', 'Gyömrõ', 'Dózsa György út' ,44 );
INSERT INTO CEG (c_email, jelszo, nev, telefonszam, telepules, utca, hazszam) VALUES ('solarseed@gmail.com', '64663f4646781c9c0110838b905daa23', 'SOLARSEED', '0620-528-57-44', 'Csongrád', 'Ady Endre utca' ,2 );
INSERT INTO CEG (c_email, jelszo, nev, telefonszam, telepules, utca, hazszam) VALUES ('telekom@gmail.com', '64663f4646781c9c0110838b905daa23', 'TELEKOM', '0620-239-76-64', 'Csongrád', 'Bajza utca' ,3 );
INSERT INTO CEG (c_email, jelszo, nev, telefonszam, telepules, utca, hazszam) VALUES ('spar@gmail.com', '64663f4646781c9c0110838b905daa23', 'SPAR', '0620-302-79-59', 'Hódmezõvásárhely', 'Szellõ sugár' ,56 );
INSERT INTO CEG (c_email, jelszo, nev, telefonszam, telepules, utca, hazszam) VALUES ('tesco@gmail.com', '64663f4646781c9c0110838b905daa23', 'TESCO', '0620-413-81-44', 'Heves', 'Csokonai utca' ,77 );
INSERT INTO CEG (c_email, jelszo, nev, telefonszam, telepules, utca, hazszam) VALUES ('aldi@gmail.com', '64663f4646781c9c0110838b905daa23', 'ALDI', '0620-419-87-61', 'Jászberény', 'Deák Ferenc utca' ,45 );
INSERT INTO CEG (c_email, jelszo, nev, telefonszam, telepules, utca, hazszam) VALUES ('goodsmarket@gmail.com', '64663f4646781c9c0110838b905daa23', 'GOODS MARKET', '0620-518-12-89', 'Szeged', 'Garay utca' ,78 );
INSERT INTO CEG (c_email, jelszo, nev, telefonszam, telepules, utca, hazszam) VALUES ('lidl@gmail.com', '64663f4646781c9c0110838b905daa23', 'LIDL', '0620-710-66-84', 'Szellõ', 'Kálvária sugár' ,35 );
INSERT INTO CEG (c_email, jelszo, nev, telefonszam, telepules, utca, hazszam) VALUES ('momax@gmail.com', '64663f4646781c9c0110838b905daa23', 'MÖMAX', '0620-394-08-82', 'Hódmezõvásárhely', 'Kálvária sugárút' ,46 );
INSERT INTO CEG (c_email, jelszo, nev, telefonszam, telepules, utca, hazszam) VALUES ('herbalia@gmail.com', '64663f4646781c9c0110838b905daa23', 'HERBÁLIA', '0620-419-97-40', 'Heves', 'Hollán Ernõ utca' ,27 );
INSERT INTO CEG (c_email, jelszo, nev, telefonszam, telepules, utca, hazszam) VALUES ('balance@gmail.com', '64663f4646781c9c0110838b905daa23', 'BALANCE', '0620-634-75-46', 'Gárdony', 'Jókai utca' ,83 );
INSERT INTO CEG (c_email, jelszo, nev, telefonszam, telepules, utca, hazszam) VALUES ('biohair@gmail.com', '64663f4646781c9c0110838b905daa23', 'BIO-HAIR', '0620-084-75-64', 'Ibrány', 'Kálmán Imre utca' ,56 );
INSERT INTO CEG (c_email, jelszo, nev, telefonszam, telepules, utca, hazszam) VALUES ('ccc@gmail.com', '64663f4646781c9c0110838b905daa23', 'CCC', '0620-419-87-61', 'Szeged', 'Ó utca' ,36 );
INSERT INTO CEG (c_email, jelszo, nev, telefonszam, telepules, utca, hazszam) VALUES ('benu@gmail.com', '64663f4646781c9c0110838b905daa23', 'BENU', '0620-252-20-46', 'Gárdony', 'Pacsirtamezõ utca' ,85 );

INSERT INTO FELHASZNALOK (email, jelszo, nev, telefonszam, szerepkor, oneletrajz) VALUES ('email@gmail.com', '21232f297a57a5a743894a0e4a801fc3', 'Feri', '59(207)816-46-77',  'Admin', 't');
INSERT INTO FELHASZNALOK (email, jelszo, nev, telefonszam, szerepkor, oneletrajz) VALUES ('rhondarezac@sakiori.it', '64663f4646781c9c0110838b905daa23', 'Clair Lothar', '4(370)490-14-83',  'Álláskeresõ', 't');
INSERT INTO FELHASZNALOK (email, jelszo, nev, telefonszam, szerepkor, oneletrajz) VALUES ('tatyanazdanova@wexcc.com', '64663f4646781c9c0110838b905daa23', 'Elena Kokoro', '38(3413)812-55-93',  'Álláskeresõ', 't');
INSERT INTO FELHASZNALOK (email, jelszo, nev, telefonszam, szerepkor, oneletrajz) VALUES ('ully59s@wexcc.com', '64663f4646781c9c0110838b905daa23', 'Valeria Kristie', '07(4587)881-27-56',  'Álláskeresõ', 't');
INSERT INTO FELHASZNALOK (email, jelszo, nev, telefonszam, szerepkor, oneletrajz) VALUES ('tntn0171@sakiori.it', '64663f4646781c9c0110838b905daa23', 'Venetia Niklaus', '3(477)969-22-51',  'Álláskeresõ', 't');
INSERT INTO FELHASZNALOK (email, jelszo, nev, telefonszam, szerepkor, oneletrajz) VALUES ('nosctayer@advlogisgroup.com', '64663f4646781c9c0110838b905daa23', 'Yuina Terry', '82(569)492-20-40',  'Álláskeresõ', 't');
INSERT INTO FELHASZNALOK (email, jelszo, nev, telefonszam, szerepkor, oneletrajz) VALUES ('dinaoseyeva@boranora.com', '64663f4646781c9c0110838b905daa23', 'Tony Deloris', '01(6573)702-92-71',  'Álláskeresõ', 't');
INSERT INTO FELHASZNALOK (email, jelszo, nev, telefonszam, szerepkor, oneletrajz) VALUES ('jzgdwd@advlogisticsgroup.com', '64663f4646781c9c0110838b905daa23', 'Ansaldo Monroe', '631(90)498-69-36',  'Álláskeresõ', 't');
INSERT INTO FELHASZNALOK (email, jelszo, nev, telefonszam, szerepkor, oneletrajz) VALUES ('czebra@enhanceronly.com', '64663f4646781c9c0110838b905daa23', 'Dezi Jena', '38(032)694-99-66',  'Álláskeresõ', 't');
INSERT INTO FELHASZNALOK (email, jelszo, nev, telefonszam, szerepkor, oneletrajz) VALUES ('gociuzzz@gmailos.com', '64663f4646781c9c0110838b905daa23', 'Christian Jessica', '4(35)351-75-04',  'Álláskeresõ', 't');
INSERT INTO FELHASZNALOK (email, jelszo, nev, telefonszam, szerepkor, oneletrajz) VALUES ('meddick@btcmod.com', '64663f4646781c9c0110838b905daa23', 'Shad Lou', '31(79)738-10-85',  'Álláskeresõ', 't');
INSERT INTO FELHASZNALOK (email, jelszo, nev, telefonszam, szerepkor, oneletrajz) VALUES ('cgreeves@enhanceronly.com', '64663f4646781c9c0110838b905daa23', 'Ripley Lucille', '826(6921)576-22-67',  'Álláskeresõ', 't');
INSERT INTO FELHASZNALOK (email, jelszo, nev, telefonszam, szerepkor, oneletrajz) VALUES ('nk1c@gmailos.com', '64663f4646781c9c0110838b905daa23', 'Helma Kalie', '989(7540)513-10-13',  'Álláskeresõ', 't');
INSERT INTO FELHASZNALOK (email, jelszo, nev, telefonszam, szerepkor, oneletrajz) VALUES ('reactia@1resep.art', '64663f4646781c9c0110838b905daa23', 'Ernie Ste', '996(11)970-14-70',  'Álláskeresõ', 't');
INSERT INTO FELHASZNALOK (email, jelszo, nev, telefonszam, szerepkor, oneletrajz) VALUES ('snooptom@thelist.com', '64663f4646781c9c0110838b905daa23', 'Regan Jayna', '59(34)490-52-16',  'Álláskeresõ', 't');
INSERT INTO FELHASZNALOK (email, jelszo, nev, telefonszam, szerepkor, oneletrajz) VALUES ('txsweet@themoneysinthelist.com', '64663f4646781c9c0110838b905daa23', 'Melvin Katarina', '43(405)134-93-63',  'Álláskeresõ', 't');
INSERT INTO FELHASZNALOK (email, jelszo, nev, telefonszam, szerepkor, oneletrajz) VALUES ('ozole4ka@gmailos.com', '64663f4646781c9c0110838b905daa23', 'Winton Marion', '6(6680)350-30-35',  'Álláskeresõ', 't');
INSERT INTO FELHASZNALOK (email, jelszo, nev, telefonszam, szerepkor, oneletrajz) VALUES ('klipow@ollbiz.com', '64663f4646781c9c0110838b905daa23', 'Annabel Derren', '790(40)920-42-40',  'Álláskeresõ', 't');
INSERT INTO FELHASZNALOK (email, jelszo, nev, telefonszam, szerepkor, oneletrajz) VALUES ('mxelzonpeter@dandang.email', '64663f4646781c9c0110838b905daa23', 'Qillaq Enola', '57(231)557-59-89',  'Álláskeresõ', 't');
INSERT INTO FELHASZNALOK (email, jelszo, nev, telefonszam, szerepkor, oneletrajz) VALUES ('hmbmw1@sneakyreviews.com', '64663f4646781c9c0110838b905daa23', 'Miriam Alesia', '56(688)570-61-20',  'Álláskeresõ', 't');
INSERT INTO FELHASZNALOK (email, jelszo, nev, telefonszam, szerepkor, oneletrajz) VALUES ('userv99@adios.email', '64663f4646781c9c0110838b905daa23', 'Aletha Demelza', '7(918)318-89-47',  'Álláskeresõ', 't');
INSERT INTO FELHASZNALOK (email, jelszo, nev, telefonszam, szerepkor, oneletrajz) VALUES ('aleks1433@usewyear.com', '64663f4646781c9c0110838b905daa23', 'Xavia Bethney', '313(50)374-17-03',  'Álláskeresõ', 't');



INSERT INTO ERTEKELESEK (email, c_email, ertekeles, tartalom) VALUES ('aleks1433@usewyear.com','mav@gmail.com',7,'Lorum ipsum...');
INSERT INTO ERTEKELESEK (email, c_email, ertekeles, tartalom) VALUES ('gociuzzz@gmailos.com','telekom@gmail.com',8,'Lorum ipsum...');
INSERT INTO ERTEKELESEK (email, c_email, ertekeles, tartalom) VALUES ('jzgdwd@advlogisticsgroup.com','herbalia@gmail.com',4,'Lorum ipsum...');
INSERT INTO ERTEKELESEK (email, c_email, ertekeles, tartalom) VALUES ('rhondarezac@sakiori.it','infineon@gmail.com',2,'Lorum ipsum...');
INSERT INTO ERTEKELESEK (email, c_email, ertekeles, tartalom) VALUES ('tntn0171@sakiori.it','biohair@gmail.com',7,'Lorum ipsum...');
INSERT INTO ERTEKELESEK (email, c_email, ertekeles, tartalom) VALUES ('dinaoseyeva@boranora.com','ava@gmail.com',6,'Lorum ipsum...');
INSERT INTO ERTEKELESEK (email, c_email, ertekeles, tartalom) VALUES ('cgreeves@enhanceronly.com','SzKT@gmail.com',9,'Lorum ipsum...');
INSERT INTO ERTEKELESEK (email, c_email, ertekeles, tartalom) VALUES ('czebra@enhanceronly.com','mav@gmail.com',10,'Lorum ipsum...');
INSERT INTO ERTEKELESEK (email, c_email, ertekeles, tartalom) VALUES ('rhondarezac@sakiori.it','telekom@gmail.com',3,'Lorum ipsum...');
INSERT INTO ERTEKELESEK (email, c_email, ertekeles, tartalom) VALUES ('snooptom@thelist.com','benu@gmail.com',1,'Lorum ipsum...');
INSERT INTO ERTEKELESEK (email, c_email, ertekeles, tartalom) VALUES ('mxelzonpeter@dandang.email','spar@gmail.com',5,'Lorum ipsum...');
INSERT INTO ERTEKELESEK (email, c_email, ertekeles, tartalom) VALUES ('klipow@ollbiz.com','balance@gmail.com',8,'Lorum ipsum...');
INSERT INTO ERTEKELESEK (email, c_email, ertekeles, tartalom) VALUES ('meddick@btcmod.com','mav@gmail.com',8,'Lorum ipsum...');
INSERT INTO ERTEKELESEK (email, c_email, ertekeles, tartalom) VALUES ('userv99@adios.email','tesco@gmail.com',8,'Lorum ipsum...');
INSERT INTO ERTEKELESEK (email, c_email, ertekeles, tartalom) VALUES ('hmbmw1@sneakyreviews.com','goodsmarket@gmail.com',2,'Lorum ipsum...');
INSERT INTO ERTEKELESEK (email, c_email, ertekeles, tartalom) VALUES ('ully59s@wexcc.com','tesco@gmail.com',3,'Lorum ipsum...');
INSERT INTO ERTEKELESEK (email, c_email, ertekeles, tartalom) VALUES ('nosctayer@advlogisgroup.com','tesco@gmail.com',9,'Lorum ipsum...');
INSERT INTO ERTEKELESEK (email, c_email, ertekeles, tartalom) VALUES ('ully59s@wexcc.com','ccc@gmail.com',4,'Lorum ipsum...');
INSERT INTO ERTEKELESEK (email, c_email, ertekeles, tartalom) VALUES ('rhondarezac@sakiori.it','benu@gmail.com',8,'Lorum ipsum...');

INSERT INTO Allashirdetes (szalagcim, leiras, feltetel, fizetes, m_helye, c_email) VALUES('Kermitke bábszínészt keresünk',
								'Egy bábszínész jelentkezését várjuk hogy életet leheljen a Magyarországi Kermit békába, munkarendrõl meg fizetésrõl személyesen tudunk többet mondani.',
								'színészi végzettség', 220000, 'Szeged', 'biohair@gmail.com');

INSERT INTO Allashirdetes (szalagcim, leiras, feltetel, fizetes, m_helye, c_email)  VALUES('Kallereket keresünk több Magyarországi járatainkra',
								'Budapest-Cegléd, Budapest-Szeged, és Budapest-Debrecen vonalakra keresünk jegyellenõröket',
								'érettségi', 240000, 'XIV. Kerület', 'mav@gmail.com');

INSERT INTO Allashirdetes (szalagcim, leiras, feltetel, fizetes, m_helye, c_email)  VALUES('Távközlési irodánkba keresünk diszpécsert',
								'Zuglói Távközlési irodánkba keresünk diszpécsert.',
								'hálózatkezelõi képesítés', 320000, 'Szeged', 'mav@gmail.com');
								
INSERT INTO Allashirdetes (szalagcim, leiras, feltetel, fizetes, m_helye, c_email)   VALUES('Jegyellenõröket keresünk!',
								'Jegyellenõröket keresünk a 2-es és az 1-es villamos vonalakra, 220 000 Ft bruttó havi fizetésért, egyéb bónuszokkal kiegészítve, 
								naponta 10-15 járatot elenõrözni, minden hétköznap. Várjuk jelentkezését!',
								'érettségi bizonyítvány', 220000, 'Szeged', 'SzKT@gmail.com');
								
INSERT INTO Allashirdetes (szalagcim, leiras, feltetel, fizetes, m_helye, c_email)   VALUES('Jegyellenõröket keresünk!',
								'Jegyellenõröket keresünk a 743-as, 744-es, 784-es, 795-ös és a 765-ös vonalakra, bruttó 210 000 Ft havi fizetésért, egyéb bónuszokkal kiegészítve,  naponta 8-10 járatot elenõrözni, minden hétköznap. Várjuk jelentkezését!',
								'érettségi bizonyítvány', 210000, 'Szeged', 'SzKT@gmail.com');
								
INSERT INTO Allashirdetes (szalagcim, leiras, feltetel, fizetes, m_helye, c_email)   VALUES('Jegyellenõröket keresünk!',
								'Jegyellenõröket keresünk a 303-as, 304-es és a 307-es vonalakra, bruttó 220 000 Ft havi fizetésért, egyéb bónuszokkal kiegészítve,  naponta 10-13 járatot elenõrözni, minden hétköznap. Várjuk jelentkezését!',
								'érettségi bizonyítvány', 220000, 'Szeged', 'SzKT@gmail.com');

INSERT INTO Allashirdetes (szalagcim, leiras, feltetel, fizetes, m_helye, c_email)   VALUES('Jegyellenõröket keresünk!',
								'Jegyellenõröket keresünk a 3-as és a 4-es villamos vonalakra, bruttó 220 000 Ft havi fizetésért, egyéb bónuszokkal kiegészítve,  naponta 10-15 járatot elenõrözni, minden hétköznap. Várjuk jelentkezését!',
								'érettségi bizonyítvány', 220000, 'Szeged', 'SzKT@gmail.com');

INSERT INTO Allashirdetes (szalagcim, leiras, feltetel, fizetes, m_helye, c_email)   VALUES('Irodai munkást keresünk!',
								'A Deák Ferenc utca irodánka keresünk irodai munkást 3 hónapos próbaidõszakra kezdõ fizetésért , azután bruttó 250 000Ft a teljes értékû fizetés, diszpécseri feladatok ellátása a feladat. Teljes körû juttatások járnak 3 hónap után.',
								'érettségi bizonyítvány, ', 250000, 'Szeged', 'SzKT@gmail.com');

INSERT INTO Allashirdetes (szalagcim, leiras, feltetel, fizetes, m_helye, c_email)   VALUES('Jegyautomata karbantartót keresünk',
								'SzKT jegyautomaták karbantartásáért felelõs embert keresünk, készenléti állapotban kell lenni munkaidõben, ha valami probléma lép fel a városban valamelyik jegyautómatával, akkor céges autóval ki kell menni amint lehetséges.
								Megfelelõ hozzáértõ képzettséggel kell rendelkeznie a jegyautomatákhoz, jogosítvány szükséges hogy legyen, havi bruttó 300 000 Ft fizetésért',
								'megfelelõ képzettség, jogosítvány', 350000, 'Szeged', 'SzKT@gmail.com');

INSERT INTO Allashirdetes (szalagcim, leiras, feltetel, fizetes, m_helye, c_email)   VALUES('Villamosvezetõt keresünk',
								'Villamosvezetõk jelentkezését várjuk, azokét is akik szeretnének ebben a munkakörben dolgozni, és nincs jogosítványuk, nálunk vannak erre a célra kialakított villamosvezetõi tanfolyamunk, amivel sikeres villamosvezetõi jogosítványt szerezhetnek.',
								'18 éves kor, érettségi', 250000, 'Szeged', 'SzKT@gmail.com');

INSERT INTO Allashirdetes (szalagcim, leiras, feltetel, fizetes, m_helye, c_email)   VALUES('Buszsofõröket keresünk',
								'Buszsofõröket keresünk Szeged városon belüli járatokra, havi bruttó 230 000Ft-ért, D kategóriás jogosítvány szükséges',
								'18 éves kor, D kategóriás jogosítvány', 230000, 'Szeged', 'SzKT@gmail.com');

INSERT INTO Allashirdetes (szalagcim, leiras, feltetel, fizetes, m_helye, c_email)   VALUES('Szalagmunkásokat keresünk 3 mûszakban',
								'A Ceglédi Infineon fõgyári épületébe keresünk a szerszámgyártó és esernyõgyártó szalagra, 3 mûszakban, heti forgással, SZÉP kártya és egyéb juttatásokat biztosítunk dolgozóink számára. Keressen bennünket!',
								'érettségi', 190000, 'Cegléd', 'infineon@gmail.com');

INSERT INTO Allashirdetes (szalagcim, leiras, feltetel, fizetes, m_helye, c_email)   VALUES('Biztonsági õrt keresünk a fõbejárathoz',
								'Biztonsági õrt keresünk 24/72 órás munkarendbe',
								'megfelelõ szakképesítés', 350000, 'Cegléd', 'infineon@gmail.com');

INSERT INTO Allashirdetes (szalagcim, leiras, feltetel, fizetes, m_helye, c_email)   VALUES('Junior JAVA developereket keresünk Budapesti csapatunkba',
								'Junior JAVA developereket keresünk Budapesti csapatunkba',
								'diploma, 10 éves munkatapasztalat', 980000, 'X. Kerület', 'epam@gmail.com');

INSERT INTO Allashirdetes (szalagcim, leiras, feltetel, fizetes, m_helye, c_email)   VALUES('Junior JAVA developereket keresünk Szegedi csapatunkba',
								'Junior JAVA developereket keresünk Szegedi csapatunkba',
								'diploma, 10 éves munkatapasztalat', 980000, 'Szeged', 'epam@gmail.com');

INSERT INTO Allashirdetes (szalagcim, leiras, feltetel, fizetes, m_helye, c_email)   VALUES('Senior JAVA developereket keresünk Budapesti csapatunkba',
								'Senior JAVA developereket keresünk Budapesti csapatunkba',
								'diploma, 25 éves munkatapasztalat', 1550000, 'X. Kerület', 'epam@gmail.com');
								
INSERT INTO Allashirdetes (szalagcim, leiras, feltetel, fizetes, m_helye, c_email)   VALUES('Senior JAVA developereket keresünk Szegedi csapatunkba',
								'Senior JAVA developereket keresünk Szegedi csapatunkba',
								'diploma, 25 éves munkatapasztalat', 1250000, 'Szeged',  'epam@gmail.com');

INSERT INTO Allashirdetes (szalagcim, leiras, feltetel, fizetes, m_helye, c_email)   VALUES('Mobilalkalmazás fejlesztés (Junior)',
								'Unity játékapp fejlesztéséhez keresünk Junior fejlesztõket',
								'informatikai képzettség, 2 év munkatapasztalat', 570000, 'Szekszárd', 'ava@gmail.com');

INSERT INTO Allashirdetes (szalagcim, leiras, feltetel, fizetes, m_helye, c_email)   VALUES('Mobilalkalmazás fejlesztés (Senior)',
								'Unity játékapp fejlesztéséhez keresünk Senior fejlesztõt',
								'informatikai képzettség, 5 év munkatapasztalat', 1150000, 'Szekszárd', 'ava@gmail.com');

INSERT INTO Allashirdetes (szalagcim, leiras, feltetel, fizetes, m_helye, c_email)   VALUES('Senior Concept Artist-ot keresünk mobiljáték alkalmazásunkhoz',
								'Legalább 5 éves tapasztalattal rendelkezõ Concept Artist-ot keresünk Unityben készülõ mobiljátékunkhoz',
								'grafikusi képzettség, 5 év munkatapasztalat', 310000, 'Szekszárd', 'ava@gmail.com');
								
INSERT INTO Allashirdetes (szalagcim, leiras, feltetel, fizetes, m_helye, c_email)  VALUES('Takarítót keresünk',
								'Takarítót keresünk az atomerõmû központi épületébe',
								'18 éves kor, érettségi', 280000, 'Paks', 'paks@gmail.com');

INSERT INTO Allashirdetes (szalagcim, leiras, feltetel, fizetes, m_helye, c_email)   VALUES('Boeing pilótát keresünk',
								'Boeing 777-es repülõnkre keresünk egy legalább 5 éves repülési tapasztalattal rendelkezõ pilótát.',
								'pilóta képesítés, 5 éves tapasztalat', 870000, 'XII. Kerület', 'biohair@gmail.com');

INSERT INTO Allashirdetes (szalagcim, leiras, feltetel, fizetes, m_helye, c_email)   VALUES('Információs pult',
								'Információs pultba keresünk egy embert aki helpdesk feladatokat lát el, akár személyesen vagy otthonról, munkavégzés telefonon keresztül.',
								'érettségi', 220000, 'XII. Kerület',  'tesco@gmail.com');

INSERT INTO Allashirdetes (szalagcim, leiras, feltetel, fizetes, m_helye, c_email)   VALUES('Csomagkezelõt keresünk tranzitraktárunkba',
								'Az EThunder csomagszállítócég egy rátermedt dolgozót keres a raktárukba, aki az üzletekbõl megkapott csomagokat kezeli és továbbítja a megfelelõ futárnak szállításra',
								'érettségi', 280000, 'Gyõr',  'EThunder@gmail.com');

INSERT INTO Allashirdetes (szalagcim, leiras, feltetel, fizetes, m_helye, c_email)   VALUES('Futárt keresünk',
								'Az EThunder csomagszállítócég egy rátermedt dolgozót keres futár pozícióba.',
								'érettségi, B jogosítvány', 320000, 'Gyõr', 'EThunder@gmail.com');

INSERT INTO Allashirdetes (szalagcim, leiras, feltetel, fizetes, m_helye, c_email)   VALUES('Csavargyárba keresünk minõségellenõrt',
								'Soproni csavargyárunkba keresünk minõség ellenõrt, aki ellenõrzi a legyártott példányokat.',
								'érettségi', 310000, 'Sopron',  'goodsmarket@gmail.com');

INSERT INTO Allashirdetes (szalagcim, leiras, feltetel, fizetes, m_helye, c_email)   VALUES('Távmunkára keresünk forgalmazót',
								'Forgalmazói munkára keresünk embert, a munkát otthon van lehetõség végezni a járványhelyzet miatt',
								'érettségi', 350000, 'Sopron',  'goodsmarket@gmail.com');

INSERT INTO Allashirdetes (szalagcim, leiras, feltetel, fizetes, m_helye, c_email)   VALUES('Eladót keresünk bioszaküzletünkbe',
								'Eladót keresünk bio ételeket áruló szaküzletünkbe, fõleg növényi eredetû termékeink vannak, ezeknek az ismerete mi miért egészséges, az elõnynek számít',
								'érettségi', 220000, 'Debrecen',  'solarseed@gmail.com');

INSERT INTO Allashirdetes (szalagcim, leiras, feltetel, fizetes, m_helye, c_email)   VALUES('Eladót keresünk Kecskeméti üzletünkbe',
								'Kecskeméti üzletünkbe keresünk eladót',
								'érettségi', 230000, 'Kecskemét', 'telekom@gmail.com');

INSERT INTO Allashirdetes (szalagcim, leiras, feltetel, fizetes, m_helye, c_email)   VALUES('Hálózati karbantartót keresünk Cegléden',
								'Hálózati karbantartót keresünk a Ceglédi fennhatóságú területekre, nagyon jó kezdõ fizetéssel, céges autót adunk munkavégzéshez',
								'hálózati képesítés, B jogosítvány', 280000, 'Cegléd',  'telekom@gmail.com');

INSERT INTO Allashirdetes (szalagcim, leiras, feltetel, fizetes, m_helye, c_email)   VALUES('Tenyérbemászókat keresünk',
								'Népességkutatói munkára keresünk karizmatikus, extrovertált és rátermedt embereket, akik magyar állampolgárok véleményeit keresik és gyûjtik be a mai világot rendkívül foglalkoztató és fontos kérdéseirõl,
								mint például a Gender Studies, trans emberek inkluzivitása sportokban és egyéb területeken, illetve a rasszizmus kérdéseiben',
								'bárki képes erre a munkára', 450000, 'Kecskemét',  'lidl@gmail.com');

INSERT INTO Jelentkezes (email, a_id, mikor) VALUES('nk1c@gmailos.com', 5, '2021-11-10');
INSERT INTO Jelentkezes (email, a_id, mikor) VALUES('txsweet@themoneysinthelist.com', 7, '2021-11-24');
INSERT INTO Jelentkezes (email, a_id, mikor) VALUES('mxelzonpeter@dandang.email', 10, '2021-12-24');
INSERT INTO Jelentkezes (email, a_id, mikor) VALUES('aleks1433@usewyear.com', 11, '2022-01-10');
INSERT INTO Jelentkezes (email, a_id, mikor) VALUES('tatyanazdanova@wexcc.com', 17, '2022-02-14');

INSERT INTO Jelentkezes (email, a_id, mikor) VALUES('snooptom@thelist.com', 8, '2022-05-12');
INSERT INTO Jelentkezes (email, a_id, mikor) VALUES('nosctayer@advlogisgroup.com', 17, '2022-07-24');
INSERT INTO Jelentkezes (email, a_id, mikor) VALUES('ozole4ka@gmailos.com', 20, '2023-01-10');
INSERT INTO Jelentkezes (email, a_id, mikor) VALUES('snooptom@thelist.com', 19, '2023-04-30');
INSERT INTO Jelentkezes (email, a_id, mikor) VALUES('rhondarezac@sakiori.it', 2, '2023-09-27');

create or replace PROCEDURE UPDATE_CEG (
  p_nev IN VARCHAR2,
  p_email IN VARCHAR2,
  p_jelszo IN VARCHAR2,
  p_telefonszam IN VARCHAR2
) AS
BEGIN
  UPDATE CEG SET
    nev = p_nev,
    jelszo = p_jelszo,
    telefonszam = p_telefonszam
  WHERE c_email = p_email;
END;
/

create or replace PROCEDURE update_felhasznalok(
    p_email IN FELHASZNALOK.EMAIL%TYPE,
    p_nev IN FELHASZNALOK.NEV%TYPE,
    p_telefonszam IN FELHASZNALOK.TELEFONSZAM%TYPE,
    p_oneletrajz IN FELHASZNALOK.ONELETRAJZ%TYPE
)
IS
BEGIN
    UPDATE FELHASZNALOK
    SET NEV = p_nev, TELEFONSZAM = p_telefonszam, ONELETRAJZ = p_oneletrajz
    WHERE EMAIL = p_email;
    COMMIT;
END;
/

create or replace PROCEDURE FIRM_REVIEW(
    in_email IN CEG.C_EMAIL%TYPE,
    v_atlag OUT INTEGER)
IS
 atlag INTEGER;
BEGIN
    SELECT AVG(ERTEKELES) 
    INTO atlag
    FROM ERTEKELESEK 
    WHERE C_EMAIL = in_email 
    GROUP BY C_EMAIL;

    IF atlag  IS NULL THEN
        v_atlag := NULL;
    ELSE
        v_atlag := FLOOR(atlag);
    END IF;

EXCEPTION
  WHEN NO_DATA_FOUND THEN
    v_atlag := NULL;
END;
/

create or replace PROCEDURE UPDATE_JOB (
  p_a_id IN NUMBER,
  p_szalagcim IN VARCHAR2,
  p_leiras IN VARCHAR2,
  p_feltetel IN VARCHAR2,
  p_fizetes IN NUMBER,
  p_m_helye IN VARCHAR2
  
) AS
BEGIN
  UPDATE ALLASHIRDETES SET
    szalagcim = p_szalagcim,
    leiras = p_leiras,
    feltetel = p_feltetel,
    fizetes = p_fizetes,
    m_helye = p_m_helye
  WHERE a_id = p_a_id;
END;
/

create or replace TRIGGER FIRMDELETE 
BEFORE DELETE ON CEG 
FOR EACH ROW 
BEGIN
     DELETE ERTEKELESEK WHERE C_EMAIL = :OLD.C_EMAIL;
     DELETE ALLASHIRDETES WHERE C_EMAIL = :OLD.C_EMAIL;
END;
/

create or replace TRIGGER JOBDELETE 
BEFORE DELETE ON ALLASHIRDETES
FOR EACH ROW 
BEGIN
    DELETE JELENTKEZES WHERE A_ID = :OLD.A_ID;
END;
/

create or replace TRIGGER USERDELETE 
BEFORE DELETE ON FELHASZNALOK 
FOR EACH ROW 
BEGIN
    DELETE ERTEKELESEK WHERE email = :OLD.EMAIL;
    DELETE JELENTKEZES WHERE email = :OLD.EMAIL;
END;
/

